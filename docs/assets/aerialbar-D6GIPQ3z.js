const d="AERIAL BAR",g=`
[Tap]  Jump
[Hold] Fly
`,p=[],f={isPlayingBgm:!0,isReplayEnabled:!0,audioSeed:1};let i,r,e,n,t,s;function y(){ticks||(i=[{x:50,length:50,angle:PI/2,angleVel:.03,isHeld:!0}],r=0,e={pos:vec(),length:10,angle:0,angleVel:0,center:.2,bar:i[0],vel:vec()},n=0,t=s=10),t+=(s-t)*.1,color("light_cyan"),rect(0,0,100,t),color("light_blue"),rect(0,90,100,10);let a=difficulty*.02;if(e.pos.x>50&&(a+=(e.pos.x-50)*.1),e.pos.x-=a,e.bar!=null){const l=e.bar;e.pos.set(l.x,t).addWithAngle(l.angle,l.length),e.angleVel+=l.angleVel*l.length*.003,l.x<0&&(color("red"),text("X",3,t),play("explosion"),end()),input.isJustPressed&&(play("select"),e.vel.set().addWithAngle(l.angle+PI/2,(l.angleVel*l.length+e.angleVel*3)*sqrt(difficulty)).add(0,-sqrt(difficulty)*.5),e.bar=void 0,n=1)}else n+=difficulty,e.pos.add(e.vel),e.vel.y+=(input.isPressed?.01:.1)*sqrt(difficulty),e.vel.mul(input.isPressed?.99:.95),e.pos.y>89&&(play("hit"),e.vel.y*=-1.5,e.pos.y=88,s+=10,n=-9999,i.forEach(l=>{l.isHeld=!1})),e.pos.x<0&&(color("red"),text("X",3,e.pos.y),play("explosion"),end());if(e.angleVel*=.99,e.angle+=e.angleVel,color("cyan"),bar(e.pos,e.length,4,e.angle,e.center).isColliding.rect.light_cyan&&e.vel.y<0&&(e.vel.y*=-.5),r-=a,r<0){const l=rnd(20,50);i.push({x:110,length:l,angle:PI/2-rnd(PI/4),angleVel:rnds(.02,.04),isHeld:!1}),r=l+rnd(20)}remove(i,l=>{l.x-=a,l.angleVel+=cos(l.angle)*l.length*5e-5*sqrt(difficulty),l.angle+=l.angleVel,color("black");const o=vec(l.x,t).addWithAngle(l.angle,l.length);line(l.x,t,o),color(l.isHeld?"black":"blue");const c=box(o,5).isColliding.rect;return c.light_blue&&(play("explosion"),color("red"),text("X",o),end()),!l.isHeld&&e.bar==null&&c.cyan&&(play("powerUp"),n>0&&addScore(ceil(n),o),e.bar=l,l.isHeld=!0,s=clamp(s-5,10,99)),l.x<-30})}export{p as characters,g as description,f as options,d as title,y as update};
