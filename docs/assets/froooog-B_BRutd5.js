const x="FROOOOG",h=`
[Hold]    Bend
[Release] Jump
`,b=[],Y={isPlayingBgm:!0,isReplayEnabled:!0,audioSeed:1};let a,y,p,c,e;function w(){ticks||(a=[],p=[],c=90,y=0,times(3,()=>u(!0)),times(7,()=>u()),times(99,()=>g()),e={y:95,py:0,targetY:0,state:"stop",isSafe:!0});let r=difficulty*.02;if(e.y<90&&(r+=(90-e.y)*.1),e.y>103&&(play("explosion"),end()),a.forEach(t=>{t.y+=r}),p.forEach(t=>{t.pos.y+=r}),c+=r,c>-50&&u(),e.y+=r,e.py+=r,e.targetY+=r,g(),e.state==="stop"&&(f(),input.isPressed&&(play("select"),e.state="bend",e.targetY=e.y-3)),e.state==="bend"){e.targetY-=sqrt(difficulty)*.7,color("light_black"),rect(49,e.targetY,1,e.y-e.targetY),f();let t=e.targetY;for(let o=0;o<a.length;o++){const i=a[o];i.y>e.targetY&&(t=i.y-5)}color("light_black"),box(50,t,3,5),(input.isJustReleased||e.targetY<9)&&(play("powerUp"),e.state="jump",e.targetY=t,e.py=e.y)}if(e.state==="jump"){e.y-=sqrt(difficulty)*1.5;const t=sin((e.y-e.targetY)/(e.py-e.targetY)*PI)+1;if(f(t),e.y<e.targetY){play("hit"),color("transparent"),e.y=e.targetY;const o=box(50,e.y,1).isColliding.rect.light_green,i=o||e.isSafe?0:ceil((e.py-e.y-1)/10);addScore(i*i,50,e.y),e.state="stop",e.isSafe=o}}function f(t=1){const o=e.y;color("green");const i=box(50,o,3*t,5*t).isColliding.rect;t===1&&(i.red||i.yellow||i.purple||i.blue||i.cyan)&&(play("explosion"),end());const s=2*t,n=2*t*t,l=2*t,d=3*t;box(50-s,o-n,l,d),box(49+s,o-n,l,d),box(50-s,o+n,l,d),box(49+s,o+n,l,d)}function g(){remove(a,t=>(t.ticks>999?(color("light_green"),box(50,t.y+5,100,9)):(color("light_black"),box(50,t.y,100,1)),t.ticks--,t.ticks<0&&(p.push({pos:vec(t.vx<0?99+t.width/2:-t.width/2,t.y+5),vx:t.vx,width:t.width,color:t.color}),t.ticks=t.interval*rnd(.9,1.6)),t.y>99)),remove(p,t=>(t.pos.x+=t.vx,color(t.color),box(t.pos,t.width,7),t.pos.x<-t.width||t.pos.x>99+t.width||t.pos.y>103))}function u(t=!1){y--;const o=sqrt(difficulty)+.1,i=(rnd(o)*rnd(o)*rnd(o)+1)*.3*(rnd()<.5?-1:1),s=rndi(9,19),n=s+rnd(40,90)/abs(i);a.push({y:c,vx:i,width:s,color:["red","purple","yellow","blue","cyan"][rndi(5)],interval:n,ticks:y<0||t?9999999:rnd(n/2)}),c-=10,y<0&&(y=rndi(9,16))}}export{b as characters,h as description,Y as options,x as title,w as update};
