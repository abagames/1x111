const y="BLADE DANCER",g=`
[Tap] Jump & Slash
`,m=[],J={viewSize:{x:200,y:100},isPlayingBgm:!0,isReplayEnabled:!0,audioSeed:5};let s,e,o;const t=80,c=30,h=30,u=1,x=.3,f=30;let p,r,n;function S(){if(ticks||(s={pos:vec(35,t),isJumping:!1,jumpTicks:0,swordAngle:PI/2,swordLength:10},e=[],o={segments:[{x:0,width:200}]},p=.03,r=.3,n=1),input.isJustPressed&&!s.isJumping&&(s.isJumping=!0,s.jumpTicks=c,play("powerUp"),n=1),s.isJumping){s.jumpTicks-=input.isPressed?.5:1;const i=s.jumpTicks/c;s.pos.y=t-Math.sin(i*Math.PI)*h,s.swordAngle-=x,s.swordLength=8+(1-i)*(f-8),s.jumpTicks<=0&&(play("click"),s.isJumping=!1,s.pos.y=t,s.swordAngle=PI/2,s.swordLength=10)}color("blue"),box(s.pos,4,8),color("cyan");const l=vec(s.swordLength,0).rotate(s.swordAngle);line(s.pos.x,s.pos.y-4,s.pos.x+l.x,s.pos.y-4+l.y,s.isJumping?5:2),(e.length===0||rnd()<p)&&e.push({pos:vec(205,rnd(30,t-5)),size:rnd(3,6)}),remove(e,i=>(i.pos.x-=u*sqrt(difficulty),color("red"),box(i.pos,i.size).isColliding.rect.cyan?(play("hit"),addScore(n,i.pos),n++,!0):(box(i.pos,i.size).isColliding.rect.blue&&(play("explosion"),end()),i.pos.x<-10))),o.segments.forEach((i,d)=>{if(i.x-=u*sqrt(difficulty),color("green"),rect(i.x,t,i.width-2,20),i.x+i.width<200&&d===o.segments.length-1)if(rnd()<r){const a=rnd(15,30);o.segments.push({x:i.x+i.width+a,width:rnd(30,100)})}else o.segments.push({x:i.x+i.width,width:rnd(50,150)})}),remove(o.segments,i=>i.x+i.width<0?!0:(!s.isJumping&&s.pos.x>i.x&&s.pos.x<i.x+i.width&&(s.pos.y=t),!1)),!o.segments.some(i=>s.pos.x>=i.x&&s.pos.x<=i.x+i.width)&&!s.isJumping&&(play("explosion"),end()),p=clamp(.03+difficulty*.01,.02,.1),r=clamp(.3+difficulty*.02,.3,.7)}export{m as characters,g as description,J as options,y as title,S as update};
