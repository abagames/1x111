const d="SQUARE BAR",y=`
[Hold] Grow
`,f=[],u={theme:"dark",isPlayingBgm:!0,isReplayEnabled:!0,isDrawingScoreFront:!0,audioSeed:5};let o,c;const t=40,g=[[1,0],[0,1],[-1,0],[0,-1]],i=vec(50,50);let p;function h(){ticks||(o=[{pos:vec(50,50-t/2-1),length:9,spRatio:0,angle:3,tAngle:0,type:"player"},{pos:vec(50,50+t/2+1),length:12,spRatio:0,angle:1,tAngle:2,type:"enemy"}],c=[],times(3,()=>{a("spike")}),times(7,()=>{a("gold")}),p=1),color("light_black"),box(i,t);let r=!1;wrap(i.angleTo(o[0].pos)-i.angleTo(o[1].pos),-PI,PI)>0&&(r=!0),input.isJustPressed&&play("select"),remove(o,e=>{if(e.type==="player"?input.isPressed?e.length+=(20+sqrt(difficulty)*9-e.length)*.1:e.length+=(9-e.length)*.2:e.length=11+sqrt(difficulty)*4,e.angle=wrap(e.angle+.03*difficulty,0,4),e.angle>=e.tAngle&&e.angle<e.tAngle+PI/4){play("hit"),e.angle=e.tAngle;const n=g[e.angle],s=vec(n[0],n[1]).mul(e.length*(1-e.spRatio)).add(e.pos);switch(e.angle){case 0:s.x>50+t/2+1?(e.tAngle=1,e.spRatio=1-(s.x-(50+t/2+1))/e.length,e.pos.set(50+t/2+1,50-t/2-1)):(e.angle=2,e.spRatio=0,e.pos.set(s));break;case 1:s.y>50+t/2+1?(e.tAngle=2,e.spRatio=1-(s.y-(50+t/2+1))/e.length,e.pos.set(50+t/2+1,50+t/2+1)):(e.angle=3,e.spRatio=0,e.pos.set(s));break;case 2:s.x<50-t/2-1?(e.tAngle=3,e.spRatio=1-(50-t/2-1-s.x)/e.length,e.pos.set(50-t/2-1,50+t/2+1)):(e.angle=0,e.spRatio=0,e.pos.set(s));break;case 3:s.y<50-t/2-1?(e.tAngle=0,e.spRatio=1-(50-t/2-1-s.y)/e.length,e.pos.set(50-t/2-1,50-t/2-1)):(e.angle=1,e.spRatio=0,e.pos.set(s));break}}color(e.type==="player"?"green":r?"red":"yellow");const l=bar(e.pos,e.length,3,e.angle*PI/2,e.spRatio).isColliding.rect;if(e.type==="enemy"&&l.green)if(r)play("explosion"),end();else{play("powerUp"),addScore(10*p,e.pos),p++;const n=[vec(50,50-t/2-1),vec(50+t/2+1,50),vec(50,50+t/2-1),vec(50-t/2+1,50)],s=wrap(o[0].tAngle+2,0,4);return o.push({pos:n[s],length:12,spRatio:0,angle:wrap(s-1,0,4),tAngle:s,type:"enemy"}),!0}}),remove(c,e=>{e.ticks<60?e.ticks%15===0&&e.size--:e.size<4&&e.ticks%15===0&&e.size++,color(e.type==="spike"?"red":"yellow");const l=box(e.pos,e.size).isColliding.rect;if(l.green)if(e.type==="spike")e.size===4&&(play("explosion"),end());else return play("coin"),addScore(p,e.pos),a("gold"),!0;if(e.ticks--,e.ticks<0||l.red||l.yellow)return a(e.type),!0});function a(e){let l;for(let n=0;n<99&&(l=vec(rnd(50-t/2-1-20,50+t/2),rnd(50-t/2-1-20,50-t/2-(e==="spike"?15:4))).sub(i).rotate(rndi(4)*PI/2).add(i),!(l.distanceTo(o[0].pos)>36));n++);c.push({pos:l,type:e,ticks:floor(rnd(777,999)/sqrt(difficulty)),size:0})}}export{f as characters,y as description,u as options,d as title,h as update};
