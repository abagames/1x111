const x="NUMBER BALL",y=`
[Hold]    Set angle
[Release] Hit a shot
`,g=[],h={viewSize:{x:200,y:100},isPlayingBgm:!0,isReplayEnabled:!0,audioSeed:2};let r,n,i,s,c,u;function m(){ticks||(r=[],n=!0,i=[{value:void 0,x:0,width:200}],s=1,c=u=0);const d=i[0],f=d.x+d.width;let p=sqrt(difficulty)*.04+c;c*=.9,u=clamp(u-.01,0,9),f>100&&(p+=(f-100)*.1);const v=clamp(difficulty*2,1,9);let a=0;if(remove(i,(e,l)=>{if(e.x-=p,color(l==0?"light_red":"light_green"),rect(e.x,50,e.width-2,10),a=e.x+e.width,e.value!=null){color("red"),text(`${e.value}`,e.x+7,55);let t=!1;if(r.forEach(o=>{o.state==="onFloor"&&o.pos.x>e.x-3&&o.pos.x<a+3&&e.value===o.value&&(t=!0)}),t)return play("coin"),addScore(e.value*s,e.x+7,50),s<16&&(s*=2),!0}if(l<i.length-1){const t=i[l+1];a<t.x+2?e.x+=(t.x-a)*.1:e.x=t.x-e.width}}),color("green"),rect(0,50,20,10),color("white"),rect(20,50,13,10),i[0].x+i[0].width<30&&(color("red"),text("X",33,55),play("explosion"),end()),a<200&&(play("hit"),i.push({value:rndi(floor(v))+1,x:200,width:rnd(20,50)})),ticks>30&&n){let e;for(let l=0;l<9;l++){e=rndi(floor(v))+1;let t=!1;if(i.forEach(o=>{o.value===e&&(t=!0)}),t)break}play("laser"),r.push({value:e,pos:vec(10,47),vel:vec(1,0).rotate(-.1),state:"stay"}),n=!1}remove(r,e=>{if(e.state==="removing")return!0;if(e.state==="stay")input.isJustPressed&&play("select"),input.isPressed&&(e.vel.rotate(-.01*difficulty),color("black"),line(vec(e.vel).mul(3).add(e.pos),vec(e.vel).mul(15).add(e.pos),2)),(input.isJustReleased||e.vel.angle<-PI*.47)&&(play("powerUp"),s>1&&(s/=2),c=u,u++,e.vel.mul(5),e.state="flying");else if(e.state==="flying")e.vel.y+=.1,e.vel.mul(.99),e.pos.add(e.vel),e.pos.y>47&&(e.vel.y*=-.5,e.vel.x*=.5,e.pos.y=47,abs(e.vel.y)<.5&&(e.state="onFloor",n=!0));else if(e.state==="onFloor")e.vel.x*=.9,e.pos.x+=e.vel.x,e.vel.y=0,e.pos.x<30&&(e.state="falling");else if(e.state==="falling"&&(e.vel.y+=.1,e.pos.y+=e.vel.y,e.pos.y>63))return!0;if(e.state!=="stay"&&e.state!=="falling"&&(e.pos.x-=p,r.forEach(l=>{l!==e&&l.pos.distanceTo(e.pos)<6&&(e.vel.addWithAngle(l.pos.angleTo(e.pos),l.vel.length*.7),l.vel.addWithAngle(e.pos.angleTo(l.pos),e.vel.length*.7))})),color("blue"),text(`${e.value}`,e.pos),e.pos.x>220||e.pos.x<-20||e.pos.y<-50)return e.state==="flying"&&(n=!0),!0}),color("black"),text(`x${s}`,3,10)}export{g as characters,y as description,h as options,x as title,m as update};
