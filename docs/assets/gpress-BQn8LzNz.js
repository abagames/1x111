const p="G PRESS",f=`
[Tap] Press
`,n=[],w={isPlayingBgm:!0,isReplayEnabled:!0,audioSeed:2};let e,y,c,o,l,i,d,r;const s=20;function u(){if(ticks||(e={y:30,vy:1,width:80,vw:0},y=[],c=0,o=[],l=0,i=d=r=70),e.vw!==0?(e.width+=e.vw*5*sqrt(difficulty),e.width<0&&(play("explosion"),e.width=0,e.vw=.5),e.width>80&&(e.width=80,e.vw=0)):(e.y+=e.vy*sqrt(difficulty),(e.y<s/2&&e.vy<0||e.y>i-s/2&&e.vy>0)&&(e.vy*=-1),input.isJustPressed&&(play("select"),d=r=i+12,e.vw=-1)),color(e.vw<0||e.width===0?"red":"black"),rect(50-e.width/2,e.y-s/2,-5,s),rect(50+e.width/2,e.y-s/2,5,s),(e.vw<0||e.width===0)&&(color("purple"),rect(1,e.y,1,99),rect(1,e.y,44-e.width/2,1),rect(98,e.y,1,99),rect(98,e.y,-(44-e.width/2),1)),color("black"),rect(0,e.y-1,1,99),rect(2,e.y+1,1,99),rect(0,e.y-1,45-e.width/2,1),rect(2,e.y+1,43-e.width/2,1),rect(99,e.y-1,1,99),rect(97,e.y+1,1,99),rect(99,e.y-1,-(45-e.width/2),1),rect(97,e.y+1,-(43-e.width/2),1),c--,c<0){const t=rnd(5,9);y.push({pos:vec(rnd(20+t,80-t),i+t/2),vel:vec(0,-rnd(1,2)/t*difficulty),size:t}),r+=t*.03,c+=rnd(10,50)/difficulty}if(color("purple"),remove(y,t=>{if(t.pos.add(t.vel),box(t.pos,t.size).isColliding.rect.red){if(t.size>e.width)return play("hit"),times(ceil(t.size),()=>{o.push({pos:vec(t.pos.x+rnds(t.size/2),t.pos.y+rnds(t.size/2)),vel:vec()})}),!0;t.pos.x=t.pos.x<50?50-e.width/2+t.size/2:50+e.width/2-t.size/2}return t.pos.y<-t.size/2}),color("light_purple"),remove(o,t=>{if(t.vel.y+=difficulty*.1,t.pos.add(t.vel),box(t.pos,2),t.pos.y>i+1)return l=9/difficulty,play("laser"),r-=.35,!0}),l>0&&(l--,l<=0&&d>r)){play("coin");const t=d-r;addScore(ceil(t*sqrt(t)),50,i)}r<50&&(r+=(50-r)*.05),i+=(r-i)*.2,color("purple"),rect(0,i,100,101-i),e.vw===0&&o.length===0&&i>=100&&r>=100&&(play("lucky"),end())}export{n as characters,f as description,w as options,p as title,u as update};
