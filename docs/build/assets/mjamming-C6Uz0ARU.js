const g="M JAMMING",y=`
[Hold] Expand range
[Release] Jamming
`,v=[`
bblb
b l b
  b
bb bb
`],R={theme:"dark",isPlayingBgm:!0,isReplayEnabled:!0,isDrawingScoreFront:!0,audioSeed:4};let s,l,n,d,f,i;function h(){ticks||(s={pos:vec(50,50),vel:vec(),radius:0},l=[],n=0,d=[],f=times(30,()=>({pos:vec(rnd(99),rnd(99)),spRatio:rnd(.2,.3),color:["light_cyan","light_purple","light_yellow"][rndi(3)]})),i=1);const p=vec(50,50).sub(s.pos).mul(.05*sqrt(difficulty));if(f.forEach(e=>{e.pos.add(vec(p).mul(e.spRatio)).wrap(0,99,0,99),color(e.color),rect(e.pos,1,1)}),color("red"),remove(d,e=>(e.radius+=sqrt(difficulty)*e.vr*.5,e.radius>e.targetRadius&&e.vr>0&&(e.vr=-1),arc(e.pos,e.radius,5),e.radius<1)),s.vel.mul(.98),s.pos.add(s.vel).add(p),color("black"),char("a",s.pos,{mirror:{x:s.vel.x<0?-1:1}}),input.isJustPressed&&play("select"),input.isPressed||input.isJustReleased?(s.radius*=1+.01*sqrt(difficulty),s.vel.mul(.9),color("cyan")):(s.radius=clamp(s.radius+sqrt(difficulty)*.5,0,15),color("light_cyan")),arc(s.pos,s.radius,2),input.isJustReleased||s.radius>50){play("laser"),i=1;let e=0;l.forEach(o=>{o.pos.distanceTo(s.pos)<s.radius+1&&o.explosionRadius<0&&e++}),l.forEach(o=>{o.pos.distanceTo(s.pos)<s.radius+1&&o.explosionRadius<0&&(o.angle=s.pos.angleTo(o.pos),o.explosionRadius=clamp(e*sqrt(e),1,25),o.angleVel=0,o.speed/=2,addScore(i,o.pos),i++)}),s.radius=e}if(n--,n<0){let e=floor(rnd(6,9)*difficulty);times(e,()=>{const o=vec(50,50).addWithAngle(rnd(PI*2),99),r=o.angleTo(rnd(40,60),rnd(40,60)),a=rnd(1,sqrt(difficulty))*.005,t=sqrt(difficulty)*.4;l.push({pos:o,angle:r,angleVel:a,speed:t,explosionRadius:-1})}),n=rnd(60,70)}let c,u=50;remove(l,e=>{const o=e.pos.angleTo(s.pos),r=wrap(e.angle-o,-PI,PI);r>e.angleVel?e.angle-=e.angleVel:r<-e.angleVel?e.angle+=e.angleVel:e.angle=o,e.pos.addWithAngle(e.angle,e.speed).add(p),color(e.explosionRadius<0?"purple":"cyan");const a=bar(e.pos,3,3,e.angle).isColliding;if(color("red"),particle(e.pos,1,e.speed,e.angle+PI,1),a.rect.red)return e.explosionRadius>1?(play("powerUp"),d.push({pos:e.pos,radius:1,targetRadius:e.explosionRadius,vr:1})):(play("coin"),particle(e.pos,9,2)),addScore(i,e.pos),i++,!0;a.char.a&&(play("explosion"),end());const t=e.pos.distanceTo(s.pos);return t<u&&(u=t,c=e),!e.pos.isInRect(-100,-100,200,200)}),remove(l,e=>{if(e.explosionRadius>0&&(color("transparent"),bar(e.pos,3,3,e.angle).isColliding.rect.purple))return play("powerUp"),d.push({pos:e.pos,radius:1,targetRadius:e.explosionRadius,vr:1}),color("red"),particle(e.pos,9,2),addScore(i,e.pos),i++,!0}),c!=null&&s.vel.addWithAngle(c.pos.angleTo(s.pos)+PI/3,sqrt(difficulty)*.01)}export{v as characters,y as description,R as options,g as title,h as update};
