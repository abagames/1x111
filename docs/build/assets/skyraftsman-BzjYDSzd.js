const m="SKY RAFTSMAN",x=`
[Tap] Jump
`,z=[],h={isPlayingBgm:!0,isReplayEnabled:!0,isDrawingScoreFront:!0,audioSeed:2};let s,t,r,c,o,i;const l=2,d=.1;function J(){ticks||u(),i=-.05,s.pos.y>50&&t.length>0?i+=(50-s.pos.y)*.2:s.pos.y<20&&(i+=(20-s.pos.y)*.1),i*=difficulty,v(),a(),f(),y()}function u(){t=times(5,e=>({pos:vec(e===0?50:rnd(10,90),75+e*30),size:e===0?20:rnd(15,25),rotationSpeed:e===0?-.05:rnds(.04,.08),angle:0,vel:vec(),yDist:0})),s={pos:vec(),isJumping:!1,currentLog:t[0],vel:vec()},r=0,c=[],o=0,i=0}function a(){input.isJustPressed&&!s.isJumping&&(play("jump"),s.isJumping=!0,s.vel.set(0,0).addWithAngle(s.currentLog.angle,l),s.pos.add(vec(s.vel).mul(2)),s.currentLog.vel.set(vec(s.vel).mul(-1))),s.isJumping?(s.pos.add(vec(s.vel).mul(difficulty)),s.vel.mul(.99),s.vel.y+=d/(input.isPressed?2:1),s.pos.y+=i):s.currentLog&&s.pos.set(s.currentLog.pos).addWithAngle(s.currentLog.angle,s.currentLog.size/2),(s.pos.x<3&&s.vel.x<0||s.pos.x>97&&s.vel.x>0)&&(s.vel.x=-s.vel.x),s.pos.y>100&&(play("explosion"),end())}function f(){remove(t,e=>{if(e.pos.add(vec(e.vel).mul(difficulty)),e.yDist+=e.vel.y*difficulty,e.yDist>20){e.yDist-=20;const n=floor(e.vel.y*difficulty*5);n>0&&(e.pos.y<100?(play("coin"),addScore(n,e.pos)):addScore(n,e.pos.x,99))}return e.vel.mul(.99),e.pos.y+=i,(e.pos.x<e.size/2&&e.vel.x<0||e.pos.x>100-e.size/2&&e.vel.x>0)&&(e.vel.x=-e.vel.x),e.angle+=e.rotationSpeed*difficulty,e.pos.y<-99}),r+=i,r<0&&!s.isJumping&&(t.push({pos:vec(rnd(10,90),125),size:rnd(15,25),rotationSpeed:rnds(.04,.08),angle:0,vel:vec(),yDist:0}),r=100)}function v(){if(remove(c,e=>(e.pos.y+=i/2,e.pos.y<-20)),o+=i,o<0){let e=rndi(3,6),n=rnd(100);for(let p=0;p<e;p++)c.push({pos:vec(n+rnds(20),120+rnd(10)),size:vec(rnd(15,25),rnd(5,15))});o+=rnd(120,160)}}function y(){color("light_cyan"),c.forEach(e=>{box(e.pos,e.size)}),color("red"),box(s.pos,6),color("yellow"),t.forEach(e=>{e.pos.y>100+e.size/2?(color("light_yellow"),rect(e.pos.x-e.size/2,98,e.size,2)):(color("yellow"),arc(e.pos,e.size/2,3,e.angle,e.angle+2*PI).isColliding.rect.red&&s.isJumping&&(play("click"),s.isJumping=!1,s.currentLog=e,e.angle=e.pos.angleTo(s.pos)))})}export{z as characters,x as description,h as options,m as title,J as update};
